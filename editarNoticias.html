<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Janal-Kaaj</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="CSS/styleDashboard.css" />
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="CSS/bootstrap.min.css">
    <link rel="stylesheet" href="CSS/style.css">

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../node_modules/@sweetalert2/themes/bootstrap-4/bootstrap-4.min.css">
    <script src="../node_modules/sweetalert2/dist/sweetalert2.all.js"></script>
  
    <!-- Boxiocns CDN Link -->
    <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>

<body>
         <!-- Dashboard -->
         <div class="sidebar close">
          <div class="logo-details">
            <i class="bx seleccionador"></i>
            <span class="logo_name">Janal Kaaj</span>
          </div>
          <ul class="nav-links">
            <li>
              <a href="#">
                <i class="bx bx-grid-alt"></i>
                <span class="link_name">Dashboard</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Category</a></li>
              </ul>
            </li>
            <li>
              <div class="iocn-link">
                <a href="pestanas_SuperUsuario/perfil_admin.html">
                  <i class="bx bx-collection"></i>
                  <span class="link_name">Perfil</span>
                </a>
              </div>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="pestanas_SuperUsuario/perfil_admin.html">Perfil</a></li>
              </ul>
            </li>
            <li>
              <div class="iocn-link">
                <a href="CRUDNoticias.html">
                  <i class="bx bx-book-alt"></i>
                  <span class="link_name">Noticias</span>
                </a>
                <i class="bx bxs-chevron-down arrow"></i>
              </div>
              <ul class="sub-menu">
                <li><a class="link_name" href="CRUDNoticias.html">Noticias</a></li>
                <li><a href="noticias.html">Crear</a></li>
              </ul>
            </li>
            <li>
              <a href="#">
                <i class="bx bx-pie-chart-alt-2"></i>
                <span class="link_name">Reportes</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Reportes</a></li>
              </ul>
            </li>
            <li>
              <a href="#">
                <i class="bx bx-compass"></i>
                <span class="link_name">Encuestadores</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Encuestadores</a></li>
              </ul>
            </li>
            <li>
              <a href="#">
                <i class="bx bx-history"></i>
                <span class="link_name">History</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">History</a></li>
              </ul>
            </li>
            <li>
              <a href="configuracion.html">
                <i class="bx bx-cog"></i>
                <span class="link_name">Ajustes</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Ajustes</a></li>
              </ul>
            </li>
  
            <li id="cerrarSesionBtnContainer">
              <a href="#" id="cerrarSesionBtn" onclick="confirmarCerrarSesion()">
                <i class="bx bx-log-out"></i>
                <span class="link_name">Cerrar Sesión</span>
              </a>
              <ul class="sub-menu blank">
                <li><a class="link_name" href="#" onclick="confirmarCerrarSesion()">Cerrar Sesión</a></li>
      
              </ul>
            </li>
          </ul>
        </div>
        
      <section class="home-section">
          <div class="home-content">
            <i class="bx bx-menu"></i>
            <span class="text">Noticias</span>
          </div>
        <!-- FIN Dashboard -->
      <header class="">
        <div class="container">
          <section class="d-flex justify-content-center py-5">
            <div class="col-sm-6 p-3 shadow-lg mb-5 bg-white rounded">
                <h2 class="main__title text-center text-dark py-3">Editar Noticias</h2>
                <form class="needs-validation" name="editNew">
                  <div id="grupo__nombrecompletos" class="row mb-3">
                    <label for="nombrecompletos" class="col-sm-4 col-form-label px-4 text-dark">Título: </label>
                    <div  class="col-sm-8">
                      <textarea type="text" name="titulo" placeholder="Título" class="form-control" id="titulo" required></textarea>
                        <div class="valid-feedback">
                            Correcto
                        </div>
                        <div class="invalid-feedback">
                            Llene el campo
                        </div>
                    </div>
                  </div>
                  <div id="grupo__nombrecompletos" class="row mb-3">
                    <label for="nombrecompletos" class="col-sm-4 col-form-label px-4 text-dark">Cuerpo: </label>
                    <div  class="col-sm-8">
                      <textarea placeholder="Noticia" name="noticia" class="form-control text-dark custom-textarea" id="noticia" required></textarea>
                        <div class="valid-feedback">
                            Correcto
                        </div>
                        <div class="invalid-feedback">
                            Llene el campo
                        </div>
                    </div>
                  </div>

                  <div id="grupo__image" class="row mb-3 ">
                    <label for="image" class="col-sm-4 col-form-label px-4 text-dark">Imagen: </label>
                    <div  class="col-sm-8 ">
                      <div class="">
                      <input class="py-3 form-control" type="file" name="imagen" id="image"  accept="image/*">
                        <!--<div class="valid-feedback">
                            Correcto
                        </div>
                        <div class="invalid-feedback">
                            Llene el campo
                        </div> -->
                        <label class="col-form-label sugerencia">Sugerencia: Usar imágenes horizontales</label>
                      </div>
                        <div class="form-file__result" id="result-image">
                          <img id="img-result" alt=""/>
                        </div>
                    </div>  
                  </div>
                  
                  <div class="row justify-content-center py-4">
                    <button onClick="refreshPage();" type="button" 
                    class="nav-link btnn btn-outline-warning text-white align">Restablecer</button>
                    <button onClick="mostrarIDBoton2();" class="btnn btn-outline-warning text-white"
                    type="button" id="enviarNoticia">Actualizar</button>
                  </div>      
                    
                </form>
              </div>
            </section>
          </div>
        </div>
      </header>
      </section>

  <script>
    window.addEventListener('load', function() {
      // Aquí colocas el código de la función que deseas ejecutar al abrir la pestaña
      mostrarIDBoton();
      setupImageUploader();
    });
    (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })
    })()

    function mostrarIDBoton() {
      const urlParams = new URLSearchParams(window.location.search);
      const botonId = urlParams.get('id');
      console.log(botonId);
      mostrarEditNoticias(botonId);
    }
    let arrow = document.querySelectorAll(".arrow");
      for (var i = 0; i < arrow.length; i++) {
        arrow[i].addEventListener("click", (e) => {
          let arrowParent = e.target.parentElement.parentElement; // seleccionando el padre principal de la flecha
          arrowParent.classList.toggle("showMenu");
        });
      }

      let sidebar = document.querySelector(".sidebar");
      let sidebarBtn = document.querySelector(".bx-menu");
      sidebarBtn.addEventListener("click", () => {
        sidebar.classList.toggle("close");
      });
    

</script>
  <!-- BOOTSTRAP SCRIPTS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
    integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/node_modules/@sweetalert2/themes/bootstrap-4/bootstrap-4.min.css">
  <script src="/node_modules/sweetalert2/dist/sweetalert2.all.js"></script>
  <script src="/CSS/SweetAlert.js"></script>
  <script src="CSS/prueba.js"></script>
  <!-- <script src="BD/app.js"></script> -->
</body>

</html>